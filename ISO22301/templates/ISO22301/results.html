{% load static %}

<!DOCTYPE html>
<html lang = "en">
<meta name="viewport" content="width=device-width, initial-scale=1">
<head>
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <script src="{% static 'js/echarts.js' %}"></script>
    <title>{{ browsertab }}</title>
</head>
<body>
    <h1>{{ dashboard_title }}</h1>
{% csrf_token %}

<div class = 'container' id='main' style='width: 80vw; height:80vh' >
        {{ area_name|json_script:'area_name' }}
        {{ area_scores|json_script:'area_scores' }}
        {{ area_colors|json_script:'area_colors' }}
        {{ max|json_script:'max' }}
        {{ overallcolor|json_script:'overallcolor' }}

        <script type='text/javascript'>
              
          var area_name = JSON.parse(document.getElementById('area_name').textContent);
          var area_scores = JSON.parse(document.getElementById('area_scores').textContent);
          var area_colors = JSON.parse(document.getElementById('area_colors').textContent);
          var max = JSON.parse(document.getElementById('max').textContent);
          var overall_color = JSON.parse(document.getElementById('overallcolor').textContent);


          var chartDom3 = document.getElementById('main');
          var myChart3 = echarts.init(chartDom3);

          option3 = {
            color: ['darkgrey'],
            aria: {
              enabled: true
          },
            title: {
              text: 'Business Countinuity Results',
              left: 'center',
            },
            
            radar: {
  
              // shape: 'circle',
            indicator: [
            { name: area_name[0], max: max, color:'black',
            axisLabel: {
              color: 'black',
              show: true,
              interval: 0,
              showMinLabel: false,
            },},
            { name: area_name[1], max: max, color:'black' },
            { name: area_name[2], max: max, color:'black' },
            { name: area_name[3], max: max, color:'black' },
            { name: area_name[4], max: max, color:'black' },
            { name: area_name[5], max: max, color:'black' },
            { name: area_name[6], max: max, color:'black' },
            ]
            },
            series: [
              {

                type: 'radar',

                data: [
                  {
                    axisLabel: {
                      show: true,
                      interval: 0
                    },
                    value: area_scores,
                    areaStyle: {
                      color: overall_color,
                      opacity: 0.5
                    },
                    label: {
                      show: true,
                      formatter: function (params) {
                        return params.value;
                      }
                    }
                  },
                ]
              }
            ]
          };
    
          myChart3.setOption(option3);
        </script>
</div>
<div>
    <button onclick="location.href='{% url 'wheel' %}'"><lable>Next Survey</lable></button>
</div>
</body>
</html>
